#!/bin/sh
#
# This is a wrapper script to build all examples and update the documents
#
. common/common.sh

SUBDIRS="\
         hello_world_color\
         scoped_enums \
         initializer_lists \
         initializer_lists_with_custom_vector \
         constexpr \
         range_based_for_loop \
         range_based_for_loop_custom_begin_end \
         std_map_with_custom_key \
         std_sort_with_custom_iterators \
         std_function_and_using \
         std_bind \
         std_bind_with_a_method \
         std_bind_with_a_class_callback \
         std_move \
         std_forward \
         std_unique_ptr \
         std_shared_ptr \
         std_shared_ptr_wrapper"

cp README.md.template README.md

for i in $SUBDIRS
do
    echo
  log $i:
    (cd $i; sh ./RUNME; ./example) | sed 's/^/    /g'
    # Makes the main page too long:
    # cat $i/README.md >> README.md
done
